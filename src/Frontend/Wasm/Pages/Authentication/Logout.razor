@using WeeControl.Common.SharedKernel.Interfaces
@using WeeControl.Frontend.Wasm.Interfaces
@using WeeControl.Common.FunctionalService.Interfaces
@using WeeControl.Common.FunctionalService.EssentialContext.Authorization
@inject IUserOperation authentication
@inject NavigationManager navManager
@inject IUserStorage userStorage
@inject ISecurityService bla

<button class="btn btn-danger ml-md-auto" @onclick="@LogoutUser">
    @if (loading)
                    {
                        <span class="spinner-border spinner-border-sm mr-1"></span>
                    }
    Logout
</button>

@code {
    private bool loading;
    private async Task LogoutUser()
    {
        loading = true;
        await authentication.LogoutAsync();
        StateHasChanged();
        navManager.NavigateTo("/login", true);
    }
}