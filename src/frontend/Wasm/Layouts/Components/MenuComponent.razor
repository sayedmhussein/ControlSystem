@using WeeControl.Host.WebApiService
@using System.Security.Claims
@using WeeControl.Host.WebApiService.DeviceInterfaces
@inject ISecurity Security
@inject IGui Gui

<MudMenuItem>
    <MudLink OnClick="@(() => Gui.NavigateToAsync(ApplicationPages.Essential.HomePage))">Home</MudLink>
</MudMenuItem>

<MudDivider />

@if (IsCustomer)
{
    <MudMenuItem>Customer Appearing</MudMenuItem>
}

@if (IsEmployee)
{
    @foreach (var p in Pages)
    {
        <MudMenuItem>
            <MudLink OnClick="@(() => Gui.NavigateToAsync(p))">@p</MudLink>
        </MudMenuItem>
    }
}

<MudDivider />
@if (IsEmployee || IsCustomer)
{
    <MudMenuItem>
        <MudLink OnClick="@(() => Gui.NavigateToAsync(ApplicationPages.Essential.UserPage))">My Profile</MudLink>
    </MudMenuItem>
    <MudMenuItem>
        <MudLink OnClick="@(()=> Gui.DisplayQuickAlert("Hello World"))">Send Feedback</MudLink>
    </MudMenuItem>
}

@code
{
    [Parameter]
    public IEnumerable<string> Pages { get; set; }

    [Parameter]
    public bool IsEmployee { get; set; }
    
    [Parameter]
    public bool IsCustomer { get; set; }
    
}
