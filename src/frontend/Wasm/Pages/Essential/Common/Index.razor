@page "/index"
@page "/Home"

@inject HomeViewModel ViewModel

<p class="flex-wrap">@ViewModel.GreetingMessage @ViewModel.NameOfUser</p>

<h1>Feeds</h1>
<FeedsComponent Feeds="@ViewModel.FeedsList"></FeedsComponent>


<h1>Notificaitons</h1>
<NotificationComponent Notifications="@ViewModel.NotificationsList"></NotificationComponent>


@code
{
    [CascadingParameter]
    public Task<AuthenticationState> AuthState { get; set; }
    
    
    protected override async void OnInitialized()
    {
        await ViewModel.Init();
        await ViewModel.FetchNotifications();

        StateHasChanged();
        
        await base.OnInitializedAsync();
    }
    
}
