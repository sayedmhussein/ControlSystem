@using WeeControl.SharedKernel.Essential.DataTransferObjects
@using WeeControl.User.UserApplication.ViewModels.Essential
@inject TerritoryViewModel ViewModel

<div class="card">
    <h4 class="card-header">Territory</h4>
    <div class="card-body">
        <EditForm Model="@dto" OnValidSubmit="@AddOrEditAsync">
            <DataAnnotationsValidator></DataAnnotationsValidator>
            <div class="form-group">
                <label>Territory ID</label>
                <InputText @bind-Value="dto.TerritoryCode" readonly="@ViewModel.IsLoading" class="form-control"/>
                <ValidationMessage For="@(() => dto.CountryCode)"/>
            </div>
            
        </EditForm>
    </div>
</div>

@code {
    private readonly TerritoryDto dto = new TerritoryDto();

    private Task AddOrEditAsync()
    {
        return ViewModel.AddOrUpdateTerritory(dto);
    }
}